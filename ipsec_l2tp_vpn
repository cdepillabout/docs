
# server and client configuration in /etc/ipsec.conf and /etc/ipsec.secrets.
vim /etc/ipsec.conf /etc/ipsec.secrets


# start ipsec
/etc/rc.d/openswan start 
# or
/etc/rc.d/ipsec start


# verify that everything is working right
ipsec verify


# Please disable /proc/sys/net/ipv4/conf/*/{send_redirects,accept_redirects}
# or NETKEY will send/accept bogus ICMP redirects!
for f in /proc/sys/net/ipv4/conf/* ; do echo 0 > ${f}/send_redirects ; echo 0 > ${f}/accept_redirects ; done


# open connection from client ("L2TP-CONNECTION-NAME" is defined in /etc/ipsec.conf on the client)
ipsec auto --up "L2TP-CONNECTION-NAME"


# show status of connections (server or client)
ipsec autho --status


# leftprotoport and rightprotoport describes the ports and ip types that will be encrypted.
# if this isn't defined, it encrypts everything.  if it is defined, then only certain things 
# will be encrypted!!!!


# logging output comes to /var/log/{auth,daemon}.log
